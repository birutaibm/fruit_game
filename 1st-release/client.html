<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Meu Primeiro Jogo Multiplayer</title>
  <style>
    #screen {
      border: 10px solid #CCC;
      image-rendering: pixelated;
      image-rendering: crisp-edges;
      image-rendering: -moz-crisp-edges;
      width: 400px;
      height: 400px;
    }
  </style>
</head>
<body>
  <canvas id="screen" width="10" height="10"></canvas>
  <script>
    // Camada do jogo
    const game = {
        players: {
            player1: {x: 1, y: 1},
            player2: {x: 9, y: 9}
        },
        fruits: {
            fruit1: {x: 3, y: 1}
        }
    };
    const currentPlayerId = 'player1';

    const commands = {
        moveUp: function (playerId) {
            const player = game.players[playerId];
            if (player.y > 0) {
                player.y--;
            }
        },
        moveDown: function (playerId) {
            const player = game.players[playerId];
            if (player.y < 9) {
                player.y++;
            }
        },
        moveLeft: function (playerId) {
            const player = game.players[playerId];
            if (player.x > 0) {
                player.x--;
            }
        },
        moveRight: function (playerId) {
            const player = game.players[playerId];
            if (player.x < 9) {
                player.x++;
            }
        },
    };

    //Camada de input
    document.addEventListener('keydown', handleKeydown);
    const actions = {
        ArrowUp: commands.moveUp,
        ArrowDown: commands.moveDown,
        ArrowLeft: commands.moveLeft,
        ArrowRight: commands.moveRight,
    };

    function handleKeydown(event) {
        const action = actions[event.key];
        if (action) {
            action(currentPlayerId);
        }
    }

    // Camada de apresentação
    const screen = document.getElementById('screen');
    const context = screen.getContext('2d');

    renderScreen();

    function renderScreen() {
        context.fillStyle = 'white';
        context.clearRect(0, 0, 10, 10);

        for (const fruitId in game.fruits) {
            const fruit = game.fruits[fruitId];
            context.fillStyle = 'green';
            context.fillRect(fruit.x, fruit.y, 1, 1);
        }

        for (const playerId in game.players) {
            const player = game.players[playerId];
            context.fillStyle = 'black';
            context.fillRect(player.x, player.y, 1, 1);
        }

        requestAnimationFrame(renderScreen);
    }
  </script>
</body>
</html>